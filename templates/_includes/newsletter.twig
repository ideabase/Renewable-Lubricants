{# newsletter form #}

<div id="newsletter-sub">
  <h2>Sign Up to Recieve Our Weekly Newsletter</h2>

  <form action="" method="POST">
    {{ csrfInput() }}
    <input name="action" type="hidden" value="mailchimp-subscribe/list/subscribe">
    <input type="hidden" name="redirect" value="{{ 'newsletter/receipt' | hash }}">

    {% if mailchimpSubscribe is defined %}
      {% if (not mailchimpSubscribe.success) and (mailchimpSubscribe.errorCode != '1000') %}
        <p>An error occured. Please try again.</p>
      {% endif %}
    {% endif %}

    <div class="field-line">
      <label>First name:</label>
      <input type="text" name="mcvars[FNAME]" value="{% if (mailchimpSubscribe is defined) and (not mailchimpSubscribe.success) %}{{ mailchimpSubscribe.values.vars.FNAME }}{% endif %}" />
    </div>

    <div class="field-line">
      <label>Last name:</label>
      <input type="text" name="mcvars[LNAME]" value="{% if (mailchimpSubscribe is defined) and (not mailchimpSubscribe.success) %}{{ mailchimpSubscribe.values.vars.LNAME }}{% endif %}" />
    </div>

    <div class="field-line">
      <label {% if (mailchimpSubscribe is defined) and (mailchimpSubscribe.errorCode == '1000') %} class="error" {% endif %}>Email:</label>
      <input type="text" name="email" value="{% if (mailchimpSubscribe is defined) and (not mailchimpSubscribe.success) %}{{ mailchimpSubscribe.values.email }}{% endif %}" />
    </div>

    <input name="" type="submit" value="Subscribe!" />
  </form>
</div>
