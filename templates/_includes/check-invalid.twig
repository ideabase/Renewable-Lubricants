{% js %}

$('form').each(function() {
  var name = $(this).attr('name');

  $('form[name="' + name + '"] input[type="submit"]').click(function() {
    $('form[name="' + name + '"] .invalid-input').removeClass('invalid-input');
    $('form[name="' + name + '"] :invalid').addClass('invalid-input');

    // on change listener to check if textbox/textarea has a value
    $('form[name="' + name + '"] :required').on('change paste keyup', function() {
      if ($(this).is(':valid')) {
        $(this).removeClass('invalid-input');
      } else {
        $(this).addClass('invalid-input');
      }
    });
  });
});

{% endjs %}
